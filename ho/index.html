<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Galaxy Ho!</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000;touch-action:none;
  font-family:'SF Mono','Fira Code','Consolas',monospace}
canvas{display:block}

/* ── HUD ── */
#hud{position:fixed;top:0;left:0;right:0;padding:20px 28px;display:flex;justify-content:space-between;align-items:center;
  color:rgba(255,255,255,0.25);font-size:10px;letter-spacing:2.5px;text-transform:uppercase;pointer-events:none;z-index:20}
#hud-location{font-size:12px;font-weight:500;color:rgba(255,255,255,0.55);letter-spacing:3px}
#hud-ship{font-size:9px;color:rgba(255,255,255,0.25);letter-spacing:1.5px;margin-top:2px}

/* ── Tooltip ── */
#tooltip{position:fixed;display:none;padding:18px 22px;background:rgba(10,12,20,0.72);
  border:1px solid rgba(255,255,255,0.07);border-radius:14px;
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  color:rgba(255,255,255,0.65);font-size:13px;z-index:30;pointer-events:auto;min-width:190px;
  box-shadow:0 8px 32px rgba(0,0,0,0.4)}
#tt-name{font-size:15px;font-weight:600;color:rgba(255,255,255,0.9);margin-bottom:2px}
#tt-class{font-size:10px;color:rgba(255,255,255,0.3);margin-bottom:6px;letter-spacing:1px;text-transform:uppercase}
#tt-planets{font-size:12px;color:rgba(255,255,255,0.45);margin-bottom:4px}
#tt-dist{font-size:11px;color:rgba(255,255,255,0.35);margin-bottom:4px;letter-spacing:0.5px}
#tt-status{font-size:10px;margin-bottom:14px;letter-spacing:1px;text-transform:uppercase}
.tt-btn{display:block;width:100%;padding:9px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);
  color:rgba(255,255,255,0.45);font-size:10px;border-radius:8px;cursor:pointer;letter-spacing:2px;text-transform:uppercase;
  transition:all 0.25s;font-family:inherit}
.tt-btn:hover{background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.8)}

/* ── Back Button ── */
#back-btn{position:fixed;top:18px;left:20px;padding:8px 16px;background:rgba(10,12,20,0.55);
  border:1px solid rgba(255,255,255,0.07);border-radius:10px;color:rgba(255,255,255,0.35);font-size:11px;
  cursor:pointer;z-index:30;display:none;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  transition:all 0.25s;letter-spacing:1.5px;text-transform:uppercase;font-family:inherit}
#back-btn:hover{background:rgba(255,255,255,0.08);color:rgba(255,255,255,0.65)}

/* ── Info Card ── */
#info-card{position:fixed;bottom:0;left:50%;transform:translateX(-50%) translateY(100%);width:100%;max-width:400px;
  padding:24px 28px 32px;background:rgba(10,12,20,0.78);
  border:1px solid rgba(255,255,255,0.06);border-bottom:none;
  border-radius:20px 20px 0 0;backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  color:rgba(255,255,255,0.65);z-index:30;transition:transform 0.4s cubic-bezier(0.16,1,0.3,1);
  box-shadow:0 -8px 40px rgba(0,0,0,0.4)}
#info-card.visible{transform:translateX(-50%) translateY(0)}
#ic-close{position:absolute;top:16px;right:20px;background:none;border:none;color:rgba(255,255,255,0.18);
  font-size:20px;cursor:pointer;padding:4px 8px;transition:color 0.2s}
#ic-close:hover{color:rgba(255,255,255,0.45)}
#ic-header{display:flex;align-items:center;gap:16px;margin-bottom:16px}
#ic-photo{width:56px;height:56px;border-radius:50%;object-fit:cover;flex-shrink:0;
  border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.03)}
#ic-name{font-size:17px;font-weight:600;color:rgba(255,255,255,0.9);margin-bottom:4px}
#ic-type{display:inline-block;padding:3px 10px;border-radius:20px;font-size:9px;letter-spacing:1.2px;
  font-weight:500;text-transform:uppercase}

.type-terran{background:rgba(80,200,120,0.10);color:rgba(80,200,120,0.65)}
.type-desert{background:rgba(200,150,60,0.10);color:rgba(200,150,60,0.65)}
.type-ice{background:rgba(130,190,240,0.10);color:rgba(130,190,240,0.65)}
.type-gas_giant{background:rgba(180,140,80,0.10);color:rgba(180,140,80,0.65)}
.type-lava{background:rgba(220,80,40,0.10);color:rgba(220,80,40,0.65)}
.type-ocean{background:rgba(60,130,220,0.10);color:rgba(60,130,220,0.65)}
.type-water{background:rgba(80,160,240,0.10);color:rgba(80,160,240,0.65)}

.ic-row{display:flex;align-items:center;gap:10px;margin-bottom:10px;font-size:12px}
.ic-label{width:78px;color:rgba(255,255,255,0.25);flex-shrink:0;font-size:10px;letter-spacing:1px;text-transform:uppercase}
.ic-bar{flex:1;height:2px;background:rgba(255,255,255,0.06);border-radius:1px;overflow:hidden}
.ic-fill{height:100%;border-radius:1px;transition:width 0.5s cubic-bezier(0.16,1,0.3,1)}
.ic-value{width:40px;text-align:right;font-weight:500;color:rgba(255,255,255,0.45);font-size:12px;font-variant-numeric:tabular-nums}
.ic-atm{font-size:11px;color:rgba(255,255,255,0.25);margin-top:4px;margin-bottom:4px;letter-spacing:0.5px}
#ic-special{margin-top:14px;padding:10px 14px;background:rgba(255,200,60,0.05);border:1px solid rgba(255,200,60,0.08);
  border-radius:8px;color:rgba(255,200,60,0.55);font-size:11px;display:none;letter-spacing:0.3px}

/* ── Journal Button ── */
#journal-btn{position:fixed;bottom:20px;right:20px;padding:8px 16px;background:rgba(10,12,20,0.55);
  border:1px solid rgba(255,255,255,0.07);border-radius:10px;color:rgba(255,255,255,0.35);font-size:10px;
  cursor:pointer;z-index:30;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  transition:all 0.25s;letter-spacing:1.5px;text-transform:uppercase;font-family:inherit}
#journal-btn:hover{background:rgba(255,255,255,0.08);color:rgba(255,255,255,0.65)}

#journal-notice{position:fixed;bottom:52px;right:20px;padding:4px 12px;background:rgba(255,200,60,0.08);
  border:1px solid rgba(255,200,60,0.12);border-radius:8px;color:rgba(255,200,60,0.5);font-size:9px;
  letter-spacing:1px;text-transform:uppercase;z-index:30;pointer-events:none;
  opacity:0;transition:opacity 0.5s}

/* ── Journal Panel ── */
#journal-panel{position:fixed;top:0;right:0;bottom:0;width:320px;background:rgba(10,12,20,0.82);
  border-left:1px solid rgba(255,255,255,0.06);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  z-index:35;transform:translateX(100%);transition:transform 0.35s cubic-bezier(0.16,1,0.3,1);
  display:flex;flex-direction:column}
#journal-panel.visible{transform:translateX(0)}
#journal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 22px 16px;
  border-bottom:1px solid rgba(255,255,255,0.06)}
#journal-header span{font-size:12px;font-weight:500;color:rgba(255,255,255,0.5);letter-spacing:2px;text-transform:uppercase}
#journal-close{background:none;border:none;color:rgba(255,255,255,0.18);font-size:18px;cursor:pointer;padding:4px 8px;transition:color 0.2s}
#journal-close:hover{color:rgba(255,255,255,0.45)}
#journal-entries{flex:1;overflow-y:auto;padding:12px 16px}
#journal-entries::-webkit-scrollbar{width:4px}
#journal-entries::-webkit-scrollbar-track{background:transparent}
#journal-entries::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.08);border-radius:2px}
.journal-entry{display:flex;align-items:flex-start;gap:10px;padding:10px 6px;border-bottom:1px solid rgba(255,255,255,0.03)}
.je-icon{font-size:12px;color:rgba(255,255,255,0.3);flex-shrink:0;width:16px;text-align:center;margin-top:1px}
.je-text{flex:1;font-size:11px;color:rgba(255,255,255,0.45);line-height:1.5;letter-spacing:0.3px}
.je-time{font-size:9px;color:rgba(255,255,255,0.15);flex-shrink:0;margin-top:2px;font-variant-numeric:tabular-nums}

/* ── Minimap ── */
#minimap-wrap{position:fixed;bottom:20px;left:20px;width:150px;height:150px;background:rgba(10,12,20,0.55);
  border:1px solid rgba(255,255,255,0.06);border-radius:12px;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  z-index:25;overflow:hidden}
#minimap{display:block;width:100%;height:100%}

/* ── Overlay & Lock ── */
#overlay{position:fixed;inset:0;background:#000;opacity:0;pointer-events:none;z-index:40;transition:opacity 0.4s}

#lock-msg{position:fixed;bottom:80px;left:50%;transform:translateX(-50%);padding:10px 22px;
  background:rgba(10,12,20,0.75);border:1px solid rgba(255,255,255,0.06);border-radius:10px;
  color:rgba(255,255,255,0.3);font-size:11px;z-index:25;display:none;
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);white-space:nowrap;letter-spacing:0.5px}
</style>
</head>
<body>

<div id="hud">
  <div>
    <div id="hud-location">Galaxy View</div>
    <div id="hud-ship"></div>
  </div>
  <div style="text-align:right">
    <span id="hud-progress">0/100 explored</span>
    <div id="hud-version" style="font-size:8px;color:rgba(255,255,255,0.12);margin-top:2px;letter-spacing:1px"></div>
  </div>
</div>

<div id="tooltip">
  <div id="tt-name"></div>
  <div id="tt-class"></div>
  <div id="tt-planets"></div>
  <div id="tt-dist"></div>
  <div id="tt-status"></div>
  <button id="tt-enter" class="tt-btn">Enter System &rarr;</button>
  <button id="tt-jump" class="tt-btn" style="display:none">Jump &rarr;</button>
</div>

<button id="back-btn">&larr; Galaxy</button>

<div id="info-card">
  <button id="ic-close">&times;</button>
  <div id="ic-header">
    <img id="ic-photo" src="" alt="">
    <div>
      <div id="ic-name"></div>
      <div id="ic-type"></div>
    </div>
  </div>
  <div id="ic-stats"></div>
  <div id="ic-special"></div>
</div>

<button id="journal-btn">Log</button>
<div id="journal-notice">New entry</div>

<div id="journal-panel">
  <div id="journal-header">
    <span>Ship's Log</span>
    <button id="journal-close">&times;</button>
  </div>
  <div id="journal-entries"></div>
</div>

<div id="minimap-wrap">
  <canvas id="minimap" width="300" height="300"></canvas>
</div>

<div id="overlay"></div>
<div id="lock-msg">Explore more stars to unlock</div>

<script type="importmap">
{ "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
}}
</script>

<script type="module" src="js/main.js?v=3.7"></script>
</body>
</html>
